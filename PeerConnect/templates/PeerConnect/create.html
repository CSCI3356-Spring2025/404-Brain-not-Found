{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="parent-container">

   <div class="left-column">
      <div class="title">Courses</div>
      {% for course in courses %}
         <form method="GET" action="{% url 'create' %}">
            <input type="hidden" name="course_id" value="{{ course.id }}">
            <button type="submit" class="course-box {% if selected_course and selected_course.id == course.id %}selected{% endif %}">
                  {{ course.name }}
            </button>
         </form>
      {% endfor %}
      <a href="#course-popup"><div class="new-course">Create Course</div></a>
   </div>

   <div class="main-content">
      {% if selected_course %}
        <div id="team-content">
            {% include 'PeerConnect/create_team.html' with course=selected_course %}
        </div>

        <!-- 
        <a href="#delete-popup">
            <div class="delete-course">
               <img src="{% static 'assets/delete.png' %}" alt="Delete">
            </div>
        </a>
      -->

      <a href="#delete-popup">
         <div class="delete-course">
            Delete Course
         </div>
      </a>
      <a href="#edit-popup">
         <div class="edit-course">
            Edit Course
         </div>
      </a>

      {% else %}
         <p id="no-course-message">You have no courses selected, please select or create to begin!</p>
      {% endif %}
   </div>
</div>

<div id="course-popup" class="modal">
   <div class="modal-content">
      <div class="modal-header">
         <h1 id="title">Create a Course</h1>
         <a href="#" class="close">&times;</a> <!-- Close button -->
      </div>
      {% include 'PeerConnect/course_form.html' %}
   </div>
</div>

{% if selected_course %}
<div id="delete-popup" class="modal">
   <div class="modal-content">
      <div class="modal-header">
         <h1 id="title">Are you sure you would like to delete the course '{{ selected_course.name }}'?</h1>
         <a href="#" class="close">&times;</a> <!-- Close button -->
      </div>
      <a href="{% url 'delete_course' selected_course.id %}">
         <div class="delete-course">Yes</div>
      </a>
   </div>
</div>
{% endif %}

{% if selected_course %}
<div id="edit-popup" class="modal">
   <div class="modal-content">
      <div class="modal-header">
         <h1 id="title">{{ selected_course.name }}</h1>
         <a href="#" class="close">&times;</a> <!-- Close button -->
      </div>
      {% include 'PeerConnect/course_form.html' %}
   </div>
</div>
{% endif %}

{% endblock %}
