{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="parent-container">

   <div class="left-column">
      <div class="title">Courses</div>
      {% for course in courses %}
         <form method="GET" action="{% url 'create' %}">
            <input type="hidden" name="course_id" value="{{ course.id }}">
            <button type="submit" class="course-box {% if selected_course and selected_course.id == course.id %}selected{% endif %}">
                  {{ course.name }}
            </button>
         </form>
      {% endfor %}
      <a href="#course-popup"><div class="new-course">Create Course</div></a>
   </div>

   <div class="main-content">
      {% if selected_course %}
        <div class="team-content">
            {% include 'PeerConnect/create_team.html' with course=selected_course %}
        </div>

        <!-- 
        <a href="#delete-popup">
            <div class="delete-course">
               <img src="{% static 'assets/delete.png' %}" alt="Delete">
            </div>
        </a>
      -->
      <div class="menu-icon">
         <a href="#menu">
             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                 <circle cx="12" cy="12" r="1"></circle>
                 <circle cx="19" cy="12" r="1"></circle>
                 <circle cx="5" cy="12" r="1"></circle>
             </svg>
         </a>
     </div>
     
     <div id="menu" class="menu">
         <a href="#delete-popup" class="delete-course">Delete Course</a>
         <a href="#edit-popup" class="edit-course">Edit Course</a>
         <a href="#">âœ–</a> <!-- Close menu by linking to an empty anchor -->
     </div>

      {% else %}
         <p id="no-course-message">You have no courses selected, please select or create to begin!</p>
      {% endif %}
   </div>
</div>

<div id="course-popup" class="modal">
   <div class="modal-content">
      <div class="modal-header">
         <h1 id="title">Create a Course</h1>
         <a href="#" class="close">&times;</a> <!-- Close button -->
      </div>
      {% include 'PeerConnect/course_form.html' %}
   </div>
</div>

{% if selected_course %}
<div id="delete-popup" class="modal">
   <div class="modal-content">
      <div class="modal-header">
         <h1 id="title">Are you sure you would like to delete the course '{{ selected_course.name }}'?</h1>
         <a href="#" class="close">&times;</a> <!-- Close button -->
      </div>
      <a href="{% url 'delete_course' selected_course.id %}">
         <div class="delete-course">Yes</div>
      </a>
   </div>
</div>
{% endif %}

{% if selected_course %}
<div id="edit-popup" class="modal">
   <div class="modal-content">
      <div class="modal-header">
         <h1 id="title">{{ selected_course.name }}</h1>
         <a href="#" class="close">&times;</a> <!-- Close button -->
      </div>
      {% include 'PeerConnect/course_form.html' %}
   </div>
</div>
{% endif %}

{% endblock %}
